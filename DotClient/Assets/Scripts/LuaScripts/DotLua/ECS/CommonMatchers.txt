local HaveComponentMatcher = require("DotLua/ECS/Mathcers/Components/HaveComponentMatcher")
local NotHaveComponentMatcher = require("DotLua/ECS/Mathcers/Components/NotHaveComponentMatcher")
local CombinedMatcher = require("DotLua/ECS/Matchers/Combined/CombinedMatcher")
local MatcherOperation = require("DotLua/ECS/Matchers/Combined/MatcherOperation")

local DestroyComponent = require("DotLua/ECS/Components/Basic/DestroyComponent")
local CategoryComponent = require("DotLua/ECS/Components/Basic/CategoryComponent")

local haveDestroyComponentMatcher = HaveComponentMatcher(DestroyComponent)
local haveCategoryComponentMatcher = HaveComponentMatcher(CategoryComponent)

----Timer
local TimerComponent = require("DotLua/ECS/Components/Timer/TimerComponent")
local TimerEndComponent = require("DotLua/ECS/Components/Timer/TimerEndComponent")
local TimerIntervalComponent = require("DotLua/ECS/Components/Timer/TimerIntervalComponent")
local TimerStartComponent = require("DotLua/ECS/Components/Timer/TimerStartComponent")
local TimerStopComponent = require("DotLua/ECS/Components/Timer/TimerStopComponent")

local haveTimerComponentMatcher = HaveComponentMatcher(TimerComponent)
local haveTimerStartComponentMatcher = HaveComponentMatcher(TimerStartComponent)
local haveTimerStopComponentMatcher = HaveComponentMatcher(TimerStopComponent)
local haveTimerIntervalComponentMatcher = HaveComponentMatcher(TimerIntervalComponent)
local haveTimerEndComponentMatcher = HaveComponentMatcher(TimerEndComponent)

local timerAutoStartMatcher = CombinedMatcher(MatcherOperation.And)
timerAutoStartMatcher:AddMatcher(haveTimerComponentMatcher)

local timerStartMatcher = CombinedMatcher(MatcherOperation.And)
timerStartMatcher:AddMatcher(haveTimerComponentMatcher)
timerStartMatcher:AddMatcher(haveTimerStartComponentMatcher)

local timerIntervalMatcher = CombinedMatcher(MatcherOperation.And)
timerIntervalMatcher:AddMatcher(haveTimerComponentMatcher)
timerIntervalMatcher:AddMatcher(haveTimerIntervalComponentMatcher)

local timerEndMatcher = CombinedMatcher(MatcherOperation.And)
timerEndMatcher:AddMatcher(haveTimerComponentMatcher)
timerEndMatcher:AddMatcher(haveTimerEndComponentMatcher)

local timerStopMatcher = CombinedMatcher(MatcherOperation.And)
timerStopMatcher:AddMatcher(haveTimerComponentMatcher)
timerStopMatcher:AddMatcher(haveTimerStopComponentMatcher)

local timerDestroyMatcher = CombinedMatcher(MatcherOperation.And)
timerDestroyMatcher:AddMatcher(haveTimerComponentMatcher)
timerDestroyMatcher:AddMatcher(haveDestroyComponentMatcher)

---FSM
local FSMBlackboardComponent = require("DotLua/ECS/Components/FSM/FSMBlockboardComponent")
local FSMComponent = require("DotLua/ECS/Components/FSM/FSMComponent")
local FSMStateComponent = require("DotLua/ECS/Components/FSM/FSMStateComponent")
local FSMStartupComponent = require("DotLua/ECS/Components/FSM/FSMStartupComponent")
local FSMTransitionToComponent = require("DotLua/ECS/Components/FSM/FSMTransitionToComponent")
local FSMShuntdownComponent = require("Dotlua/ECS/Components/FSM/FSMShuntdownComponent")

local haveFSMBlackboardComponent = HaveComponentMatcher(FSMBlackboardComponent)
local notHaveFSMBlackboardComponent = NotHaveComponentMatcher(FSMBlackboardComponent)
local haveFSMComponent = HaveComponentMatcher(FSMComponent)
local haveFSMStateComponent = HaveComponentMatcher(FSMStateComponent)
local haveFSMStartupComponent = HaveComponentMatcher(FSMStartupComponent)
local haveFSMTransitionToComponent = HaveComponentMatcher(FSMTransitionToComponent)
local haveFSMShuntdownComponent = HaveComponentMatcher(FSMShuntdownComponent)
local notHaveFSMShuntdownComponent = NotHaveComponentMatcher(FSMShuntdownComponent)

local fsmInitMatcher = CombinedMatcher(MatcherOperation.And)
fsmInitMatcher:AddMatcher(haveFSMComponent)
fsmInitMatcher:AddMatcher(notHaveFSMBlackboardComponent)

local fsmStartupMatcher = CombinedMatcher(MatcherOperation.And)
fsmStartupMatcher:AddMatcher(haveFSMComponent)
fsmStartupMatcher:AddMatcher(haveFSMBlackboardComponent)
fsmStartupMatcher:AddMatcher(haveFSMStartupComponent)

local fsmUpdateMatcher = CombinedMatcher(MatcherOperation.And)
fsmUpdateMatcher:AddMatcher(haveFSMComponent)
fsmUpdateMatcher:AddMatcher(haveFSMBlackboardComponent)
fsmUpdateMatcher:AddMatcher(haveFSMStateComponent)
fsmUpdateMatcher:AddMatcher(notHaveFSMShuntdownComponent)

local fsmTransitionToMatcher = CombinedMatcher(MatcherOperation.And)
fsmTransitionToMatcher:AddMatcher(haveFSMComponent)
fsmTransitionToMatcher:AddMatcher(haveFSMStateComponent)
fsmTransitionToMatcher:AddMatcher(haveFSMTransitionToComponent)

local fsmShuntdownMatcher = CombinedMatcher(MatcherOperation.And)
fsmShuntdownMatcher:AddMatcher(haveFSMComponent)
fsmShuntdownMatcher:AddMatcher(haveFSMShuntdownComponent)

local CommonMatchers = {
    HaveDestroyComponentMatcher = haveDestroyComponentMatcher,
    HaveCategoryComponentMatcher = haveCategoryComponentMatcher,
    TimerAutoStartMatcher = timerAutoStartMatcher,
    TimerStartMatcher = timerStartMatcher,
    TimerStopMatcher = timerStopMatcher,
    TimerIntervalMatcher = timerIntervalMatcher,
    TimerEndMatcher = timerEndMatcher,
    TimerDestroyMatcher = timerDestroyMatcher,
    FSMInitMatcher = fsmInitMatcher,
    FSMStartupMatcher = fsmStartupMatcher,
    FSMUpdateMatcher = fsmUpdateMatcher,
    FSMTransitionToMathcer = fsmTransitionToMatcher,
    FSMShuntdownMatcher = fsmShuntdownMatcher
}
return CommonMatchers
