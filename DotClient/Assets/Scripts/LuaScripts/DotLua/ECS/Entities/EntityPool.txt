local oop = require("DotLua/OOP/oop")
local ObjectPool = require("DotLua/Pool/ObjectPool")
local Entity = require("DotLua/ECS/Entities/Entity")

local LogTag = "EntityPool"

local EntityPool =
    oop.class(
    "DotLua.ECS.Entities.EntityPool",
    function(self)
        self.entityPool = ObjectPool(Entity)
    end
)

function EntityPool:GetEntity(...)
    return self.entityPool:GetItem(...)
end

function EntityPool:ReleaseEntity(entity, ...)
    if oop.isDebug then
        if not oop.isinstanceof(entity, Entity) then
            oop.error(LogTag, "the entity is not a instance of Entity")
            return
        end
    end

    self.entityPool:ReleaseItem(entity, ...)
end

function EntityPool:Clear()
    self.entityPool:Clear()
end

return EntityPool
