local oop = require("DotLua/OOP/oop")
local Component = require("DotLua/ECS/Core/Component")

local TimerComponent =
    oop.class(
    "DotLua.ECS.Components.Timer.TimerComponent",
    function(self)
        self.intervalInSec = 0
        self.totalInSec = 0
        self.intervalComponentClass = nil
        self.endComponentClass = nil
        self.userdata = nil

        self.timerIndex = -1
        self.isAutoStart = false
    end,
    Component
)

function TimerComponent:GetIntervalInSec()
    return self.intervalInSec
end

function TimerComponent:GetTotalInSec()
    return self.totalInSec
end

function TimerComponent:GetIntervalComponentClass()
    return self.intervalComponentClass
end

function TimerComponent:GetEndComponentClass()
    return self.endComponentClass
end

function TimerComponent:GetUserdata()
    return self.userdata
end

function TimerComponent:GetIsAutoStart()
    return self.isAutoStart
end

function TimerComponent:SetIsAutoStart(isAutoStart)
    self.isAutoStart = isAutoStart
end

function TimerComponent:GetTimerIndex()
    return self.timerIndex
end

function TimerComponent:SetTimerIndex(timerIndex)
    self.timerIndex = timerIndex
end

function TimerComponent:IsRunning()
    return self.timerIndex > 0
end

function TimerComponent:SetTimer(
    intervalInSec,
    totalInSec,
    intervalComponentClass,
    endComponentClass,
    userdata,
    isAutoStart)
    self.intervalInSec = intervalInSec
    self.totalInSec = totalInSec
    self.intervalComponentClass = intervalComponentClass
    self.endComponentClass = endComponentClass
    self.userdata = userdata
    self.isAutoStart = isAutoStart
end

function TimerComponent:SetIntervalTimer(intervalInSec, intervalComponentClass, userdata)
    self.intervalInSec = intervalInSec
    self.totalInSec = 0
    self.intervalComponentClass = intervalComponentClass
    self.endComponentClass = nil
    self.userdata = userdata
end

function TimerComponent:SetEndTimer(totalInSec, endComponentClass, userdata)
    self.intervalInSec = 0
    self.totalInSec = totalInSec
    self.intervalComponentClass = nil
    self.endComponentClass = endComponentClass
    self.userdata = userdata
end

function TimerComponent:DoGet(intervalInSec, totalInSec, intervalComponentClass, endComponentClass, userdata)
    self.intervalInSec = intervalInSec
    self.totalInSec = totalInSec
    self.intervalComponentClass = intervalComponentClass
    self.endComponentClass = endComponentClass
    self.userdata = userdata
end

function TimerComponent:DoRelease()
    self.intervalInSec = 0
    self.totalInSec = 0
    self.intervalComponentClass = nil
    self.endComponentClass = nil
    self.userdata = nil

    self.isAutoStart = false
    self.timerIndex = -1
end

return TimerComponent
