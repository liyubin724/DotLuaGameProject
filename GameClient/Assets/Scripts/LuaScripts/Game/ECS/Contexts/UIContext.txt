local oop = require('DotLua/OOP/oop')
local Context = oop.using('DotLua/ECS/Contexts/Context')

local DEUIRoot = CS.DotEngine.UI.UIRoot

local UIContext =
    oop.class(
    'UIContext',
    function(self, name)
        self.uiRootEntity = nil
    end,
    Context
)

function UIContext:GetUIRootEntity()
    if not self.uiRootEntity then
        local entityUID = _G.gameECS:GetNextUID()
        self.uiRootEntity = self:CreateEntity(entityUID, nil)
        self.uiRootEntity:AddComponent(DEUIRoot.Root:GetRootComponent())
    end
    return self.uiRootEntity
end

return UIContext
