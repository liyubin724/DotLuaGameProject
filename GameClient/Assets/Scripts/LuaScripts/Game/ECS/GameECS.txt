local oop = require('DotLua/OOP/oop')
local ecs = oop.using('DotLua/ECS/ecs')

local ContextNames = oop.using('Game/ECS/Contexts/ContextNames')
local GameContext = oop.using('Game/ECS/Contexts/GameContext')
local UIContext = oop.using('Game/ECS/Contexts/UIContext')
local HTimer = oop.using('DotLua/Timer/HierarchicalTimer')
local ServiceNames = oop.using('Game/ECS/Servicers/ServicerNames')

local GameECS =
    oop.class(
    'GameECS',
    function(self)
        self.gameContext = nil
        self.uiContext = nil
    end,
    ecs
)

function GameECS:GetUIContext()
    return self.uiContext
end

function GameECS:GetGameContext()
    return self.gameContext
end

function GameECS:DoInitialize()
    self._base.DoInitialize(self)

    self.uiContext = UIContext(ContextNames.UIContextName)
    self:AddContext(self.uiContext)
    self.gameContext = GameContext(ContextNames.GameContextName)
    self:AddContext(self.gameContext)

    self:AddServicer(ServiceNames.HTimerName, HTimer())
end

return GameECS
