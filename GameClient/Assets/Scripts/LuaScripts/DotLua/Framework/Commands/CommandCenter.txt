local CommandCenter =
    class(
    function(self,observerCenter)
        self.observerCenter = observerCenter
        self.commandDic = {}
    end
)

function CommandCenter:HasCommand(name)
    return self.commandDic[name] ~= nil
end

function CommandCenter:RegisterCommand(name,command)
    if not self:HasCommand(name) then
        self.commandDic[name] = command
        self.observerCenter:RegisterObserver(name,Callback(self,CommandCenter.ExecuteCommand))
    end
end

function CommandCenter:RemoveCommand(name)
    self.commandDic[name] = nil
end

function CommandCenter:ExecuteCommand(notification)
    local command = self.commandDic[notification:GetName()]
    if command then
        command:Execute(notification)
    end
end

return CommandCenter
