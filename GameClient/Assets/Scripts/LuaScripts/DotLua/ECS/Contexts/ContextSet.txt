local oop = require('DotLua/OOP/oop')

local Context = oop.using('DotLua/ECS/Contexts/Context')

local ContextSet =
    oop.class(
    'ContextSet',
    function(self)
        self.contextDic = {}
    end
)

function ContextSet:Has(name)
    return self.contextDic[name] ~= nil
end

function ContextSet:Get(name)
    return self.contextDic[name]
end

function ContextSet:Add(context)
    local name = context:GetName()
    if self:Has(name) then
        oop.error('ECS', 'ContextSet:Add->the context has been add')
        return
    end

    self.contextDic[name] = context
end

function ContextSet:Remove(name)
    local context = self.contextDic[name]
    if context then
        context:Destroy()
        self.contextDic[name] = nil
    else
        oop.error('ECS', 'ContextSet:Add->the context was not found')
    end
end

return ContextSet
