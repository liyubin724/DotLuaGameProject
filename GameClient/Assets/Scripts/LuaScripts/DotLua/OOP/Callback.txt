Callback =
    class(
    function(self,receiver,func)
        self.receiver = receiver
        self.func = func
    end
)

function Callback:GetReceiver()
    return self.receiver
end

function Callback:GetFunc()
    return self.func
end

function Callback:Invoke(...)
    if self.func then
        if self.receiver then
            return self.func(self.receiver,...)
        else
            return self.func(...)
        end
    end

    return nil
end

function Callback:Equal(otherCallback)
    if self == otherCallback then
        return true
    else
        return self.receiver == otherCallback.receiver and self.func == otherCallback.func
    end
end