require('DotLua/OOP/Class')

Callback =
    Class(
    function(self,receiver,func)
        self.receiver = receiver
        self.func = func
    end
)

function Callback:GetReceiver()
    return self.receiver
end

function Callback:GetFunc()
    return self.func
end

function Callback:Invoke(...)
    if self.func then
        if self.receiver then
            self.func(self.receiver,...)
        else
            self.func(...)
        end

    end
end

function Callback:Equal(otherCallback)
    if self == otherCallback then
        return true
    else
        return self.receiver == otherCallback.receiver and self.func == otherCallback.func
    end
end